<!doctype html>
<html lang='en'>
<head>
    <meta charset='utf-8'>
    <title>Team 04</title>
</head>
<body>
    <table id="myTable">
        <tr><td id = "1x1">[]</td><td id = "1x2">[]</td><td id ="1x3">x</td></tr>
        <tr><td id = "2x1">[]</td><td id = "2x2">[]</td><td id ="2x3">x</td></tr>
        <tr><td id = "3x1">[]</td><td id = "3x2">[]</td><td id ="3x3">x</td></tr>
    </table>
    <button id="reset">RESET</button>
<script>
let player1 = true; //player 1 is X
//document.querySelectorAll('#myTable td').forEach(e => e.addEventListener("touchend", playerturn));

document.getElementById("1x1").addEventListener("click", playerturn)
document.getElementById("1x2").addEventListener("click", playerturn)
document.getElementById("1x3").addEventListener("click", playerturn)
document.getElementById("2x1").addEventListener("click", playerturn)
document.getElementById("2x2").addEventListener("click", playerturn)
document.getElementById("2x3").addEventListener("click", playerturn)
document.getElementById("3x1").addEventListener("click", playerturn)
document.getElementById("3x2").addEventListener("click", playerturn)
document.getElementById("3x3").addEventListener("click", playerturn)

function playerturn() {
    if (player1) {
        this.innerHTML = 'X';
        player1 = false;
        console.log("player 1 turn");
    }
    else {
        this.innerHTML = 'O';
        player1 = true;
    }
    checkwin();
    console.log(this);
}

document.getElementById("reset").addEventListener("click", reset)
function reset() {
    document.querySelectorAll('#myTable td').forEach(e => e.innerHTML = "[]");
}

function checkwin() {
    grid = document.querySelectorAll('#myTable td');
    grid.forEach(e => e.innerHTML == 'X' ? 1 : 0);
    console.log(grid)
    //check vert
    let i = 0;
    for (i = 0; i < 3; i++) {
        if (grid[i].innerHTML == grid[i+3].innerHTML == grid[i+6].innerHTML){
            console.log("vert win");
        }
        console.log(grid[i].innerHTML, grid[i+3].innerHTML, grid[i+6].innerHTML);
    }
    //check horizontal
    for (i = 0; i < 7; i += 3) {
        if (grid[i].innerHTML == grid[i+1].innerHTML == grid[i+2].innerHTML) {console.log("hor victory")}
    }
    //diagonal down
    if (grid[0].innerHTML == grid[4].innerHTML == grid[8].innerHTML) {console.log("victory")}
    //diagonal up
    if (grid[2].innerHTML == grid[4].innerHTML == grid[6].innerHTML) {console.log("victory")}
}


</script>
</body>
</html>